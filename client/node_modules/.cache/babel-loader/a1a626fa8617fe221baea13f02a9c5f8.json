{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeClassMemberDecorator;\n\nrequire(\"core-js/modules/es6.reflect.define-property\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.reflect.apply\");\n/**\n * Helper to decorate class member\n * Supports class plain methods, field syntax and lazy methods\n * @param {Function} decorate Actual decorator function.\n * Example:\n *   decoratedFn => function () {\n *     // do stuff...\n *     return Reflect.apply(decoratedFn, this, arguments);\n *   }\n * @returns {Function} Class member decorator ((target, name, descriptor) => newDescriptor)\n */\n\n\nfunction makeClassMemberDecorator(decorate) {\n  return function decorateClassMember(target, name, descriptor) {\n    var configurable = descriptor.configurable,\n        enumerable = descriptor.enumerable,\n        value = descriptor.value,\n        _get = descriptor.get,\n        initializer = descriptor.initializer;\n\n    if (value) {\n      return {\n        configurable: configurable,\n        enumerable: enumerable,\n        value: decorate(value)\n      };\n    } // support lazy initializer\n\n\n    if (_get || initializer) {\n      return {\n        configurable: configurable,\n        enumerable: enumerable,\n        get: function get() {\n          // This happens if someone accesses the\n          // property directly on the prototype\n          if (this === target) {\n            return null;\n          }\n\n          var resolvedValue = initializer ? Reflect.apply(initializer, this, []) : Reflect.apply(_get, this, []);\n          var decoratedValue = decorate(resolvedValue).bind(this);\n          Reflect.defineProperty(this, name, {\n            configurable: configurable,\n            enumerable: enumerable,\n            value: decoratedValue\n          });\n          return decoratedValue;\n        }\n      };\n    }\n\n    throw new Error('called makeClassMemberDecorator on unsupported descriptor');\n  };\n}","map":null,"metadata":{},"sourceType":"script"}